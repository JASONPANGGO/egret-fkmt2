var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},ui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isLoadRes=null,t.isFirstOpen=!0,t.screenType=null,t.mobileType=null,t.classId=gUiMgr.autoId.id,t.isFirstOpen=!0,t}return __extends(i,e),i.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this.className==gConst.className.FIRST)GameMgr.gameview.addChild(this);else{var o=gUiMgr.get(t.UiFirstView);o&&o.parent?GameMgr.gameview.addChildAt(this,GameMgr.gameview.getChildIndex(o)):GameMgr.gameview.addChild(this)}this.init.apply(this,e),this.isFirstOpen&&this._initResizeView(),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),GameMgr.stage.addEventListener(egret.Event.RESIZE,this._resizeView,this),this.update(),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},i.prototype.close=function(){gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.UI_CLOSE)},i.prototype.destroy=function(){var t=gUiMgr.getByClassName(this.className);t&&(t=gComMgr.rmObj(t),gUiMgr.destroy(this.className),this.isLoadRes=null)},i.prototype.clickInstall=function(t){window.install&&window.install()},i.prototype.gameEnd=function(){window.gameEnd&&window.gameEnd()},i.prototype._initResizeView=function(){var t,e,i,o=this.isFirstOpen;return window.innerWidth<window.innerHeight?(0===this.screenType&&(o=!0),this.screenType=1,t=750,e=750/window.innerWidth*window.innerHeight,i=window.innerWidth/window.innerHeight):(1===this.screenType&&(o=!0),this.screenType=0,e=750,t=750/window.innerHeight*window.innerWidth,i=window.innerHeight/window.innerWidth),this.width=Math.ceil(t),this.height=Math.ceil(e),this.mobileType=.51>i?1:.65>i?2:3,o},i.prototype._resizeView=function(t){var e=this._initResizeView();this.resizeView(),e&&this.rotateView()},i}(eui.Component);t.UiFileBase=e,__reflect(e.prototype,"ui.UiFileBase")}(ui||(ui={}));var util;!function(t){var e=function(){function t(t){void 0===t&&(t=0),this.newId=0,this.newId=t}return Object.defineProperty(t.prototype,"id",{get:function(){return this.newId++,this.newId},enumerable:!0,configurable:!0}),t}();t.AutoId=e,__reflect(e.prototype,"util.AutoId")}(util||(util={}));var util;!function(t){var e=function(){function e(){this.autoId=new t.AutoId(0),this.uiFilePool={}}return e.prototype.create=function(t){if("string"==typeof t)return this.UiFileEmpty;var e=t.prototype.__class__.split(".")[1];if(ui[e]){var i=this.getByClassName(e);return i||(i=new ui[e],i.className=e,this.uiFilePool[e]=i),i}return this.UiFileEmpty},e.prototype.get=function(t){var e=t.prototype.__class__.split(".")[1];return ui[e]?this.uiFilePool[e]:void 0},e.prototype.getByClassName=function(t){return this.uiFilePool[t]},e.prototype.destroy=function(t){this.uiFilePool[t]=null},Object.defineProperty(e.prototype,"UiFileEmpty",{get:function(){return this.uiFileEmpty||(this.uiFileEmpty=new ui.UiFileEmpty),this.uiFileEmpty},enumerable:!0,configurable:!0}),e}();t.UiMgr=e,__reflect(e.prototype,"util.UiMgr")}(util||(util={}));var ui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.prototype.open.apply(this,e)},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFileBase);t.UiFile=e,__reflect(e.prototype,"ui.UiFile")}(ui||(ui={}));var util;!function(t){var e=function(){function t(){}return t.prototype.clickAim=function(t,e){switch(void 0===e&&(e=1),gTween.rmTweens(t),e){case 0:var i=t.alpha;gTween.tween(t,void 0,{props:{alpha:0},duration:200,call:{callback:function(){gTween.rmTweens(t),t.visible=!1,t.alpha=i},thisObj:this}});break;case 1:gTween.loopScale(t,.8,200,t.scaleX)}},t.prototype.rmObj=function(t){return t&&t.parent&&t.parent.removeChild(t),null},t}();t.ComMgr=e,__reflect(e.prototype,"util.ComMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.getRandom=function(t,e){return void 0===e&&(e=0),Math.random()*(t-e)+e},t.prototype.getRandomInteger=function(t,e){return void 0===e&&(e=0),Math.floor(this.getRandom(t,e))},t.prototype.getSquarePositive=function(t,e){if(void 0===e&&(e=2),0>e)return void console.warn("此接口一般不开放，如需要开负数次方，推荐使用：getSquare()");for(var i=t,o=0;e>o;o++)i*=t;return i/=t},t.prototype.getSquare=function(t,e){void 0===e&&(e=2);var i=t;return i=Math.pow(t,e)},t.prototype.getDistance=function(t,e,i,o){var n;return n=egret.Point.distance({x:t,y:e},{x:i,y:o}),n=Math.floor(n)},t}();t.MathMgr=e,__reflect(e.prototype,"util.MathMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.start=function(t){function e(t){_++,_==a&&i.removeChild(s)}var i=GameMgr.stage,o=GameMgr.stage.stageWidth,n=GameMgr.stage.stageHeight,s=new eui.Group;s.width=o,s.height=n,i.addChild(s);for(var a=40,r=5,c=a/r,h=0;a>h;h++){var l=o/r,p=n/c,d=h%r*l,u=Math.floor(h/r)*p,g=new egret.RenderTexture,f=(g.drawToTexture(i,new egret.Rectangle(d,u,l,p)),new egret.Bitmap);switch(f.texture=g,f.anchorOffsetX=l/2,f.anchorOffsetY=p/2,f.x=d+l/2,f.y=u+p/2,s.addChild(f),5==t&&(t=Math.ceil(4*Math.random())),t){case 1:gTween.tween(f,void 0,{props:{scaleX:0,scaleY:0,alpha:0,rotation:359},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 2:var v=-o;h%2||(v=2*o),gTween.tween(f,void 0,{props:{x:v,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 3:gTween.tween(f,void 0,{props:{scaleX:.2,scaleY:1,alpha:0,blurFliter:0},duration:800,ease:egret.Ease.backInOut,call:{callback:e,thisObj:this}});break;case 4:gTween.tween(f,void 0,{props:{alpha:0},duration:900,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;default:gTween.tween(f,void 0,{props:{scaleX:1,scaleY:0,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}})}}var _=0},t}();t.ScreenMovies=e,__reflect(e.prototype,"util.ScreenMovies")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.count=0,this.timer=new egret.Timer(1e3)}return t.prototype.shakeObj=function(t,e,i,o,n,s,a){this.target=t,void 0!=s&&(t.x=s),void 0!=a&&(t.y=a),this.initX=t.x,this.initY=t.y,this.maxDisX=o,this.maxDisY=n,this.count=e/1e3*i,this.rate=i,this.timer.delay=1e3/i,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},t.prototype.shaking=function(){this.target.x=this.initX-this.maxDisX+Math.random()*this.maxDisX*2,this.target.y=this.initY-this.maxDisY+Math.random()*this.maxDisY*2,gTween.tween(this.target,void 0,{props:{x:this.initX,y:this.initY},duration:999/this.rate})},t.prototype.shakeComplete=function(){this.target&&(gTween.rmTweens(this.target),this.target.x=this.initX,this.target.y=this.initY),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.target.dispatchEventWith(egret.Event.COMPLETE)},t.prototype.stop=function(){this.shakeComplete()},t}();t.ShakeTool=e,__reflect(e.prototype,"util.ShakeTool")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.bssoundurl="bm_bgm_mp3",this.isActive=!0,this.isplaying=!1}return t.prototype.init=function(){},t.prototype.changeBg=function(t){window.changeBgMusic&&window.changeBgMusic("resource/assets/preload/sound/"+t+".mp3"),this.bssoundurl=t,this.bgSound&&(this.bgSound.stop(),this.bgSound=null);var e=RES.getRes(this.bssoundurl);this.bgSound=e.play(0,0)},t.prototype.ding=function(){},t.prototype.tap_sound=function(t){try{}catch(t){}},t.prototype.playEff=function(t){window.webIsActivate&&window.playSoundEff&&window.playSoundEff("resource/assets/sound/"+t+".mp3")},t.prototype.stopEff=function(){this.effKey&&this.effKey.stop()},t.prototype.playLoop=function(t){egret.clearTimeout(this.delayInd),this.delayInd=egret.setTimeout(this.playLoop2,this,3e3,t)},t.prototype.playLoop2=function(t){if(!this.isplaying){this.isplaying=!0;var e=RES.getRes(t+"_mp3");this.ch=e.play(0,0),this.ch.volume=.3}},t.prototype.stopLoop=function(){egret.clearTimeout(this.delayInd),this.ch&&(this.ch.stop(),this.ch=null),this.isplaying=!1},t.prototype.regEvent=function(){GameMgr.stage.addEventListener(egret.Event.ACTIVATE,this.on_active,this),GameMgr.stage.addEventListener(egret.Event.DEACTIVATE,this.on_de_active,this),GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.tap_sound,this)},t.prototype.on_active=function(t){},t.prototype.on_de_active=function(t){},t.prototype.stopAllStop=function(){window.stopAllStop&&window.stopAllStop()},t.prototype.recoveryAllSound=function(){window.recoveryAllSound&&window.recoveryAllSound()},t.prototype.destory=function(){window.destorySound&&window.destorySound()},t}();t.SoundMgr=e,__reflect(e.prototype,"util.SoundMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.toScale=function(t,e,i,o,n,s,a){void 0===s&&(s={duration:0}),void 0!=o&&(t.scaleX=t.scaleY=o),this.tween(t,void 0,{props:{scaleX:e,scaleY:e},ease:n,wait:s,duration:i,call:a})},t.prototype.toMove=function(t,e,i,o,n,s,a,r,c){void 0===r&&(r={duration:0}),void 0!=n&&(t.x=n),void 0!=s&&(t.y=s),a?void 0==a.y&&(a.y=a.x):a={x:void 0,y:void 0};var h,l;o&&(void 0==o.y?o.y=o.x:o.x>o.y?h=c:l=c),egret.Tween.get(t).to({x:e},o.x,a.x);var p=egret.Tween.get(t).to({y:i},o.y,a.y).wait(r.duration,r.passive);c&&p.call(c.callback,c.thisObj,c.params)},t.prototype.toMoveX=function(t,e,i,o,n,s,a){void 0===s&&(s={duration:0}),void 0!=o&&(t.x=o),this.tween(t,void 0,{props:{x:e},ease:n,wait:s,duration:i,call:a})},t.prototype.toMoveY=function(t,e,i,o,n,s,a){void 0===s&&(s={duration:0}),void 0!=o&&(t.y=o),this.tween(t,void 0,{props:{y:e},ease:n,wait:s,duration:i,call:a})},t.prototype.toBottomShow=function(t,e,i,o,n,s,a){void 0===i&&(i=t.y),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),t.y-=t.height,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:i,alpha:o},ease:n,wait:s,duration:e,call:a})},t.prototype.toTopHide=function(t,e,i,o,n,s,a){void 0===i&&(i=t.y),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{y:i-t.height,alpha:0},ease:n,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.y=i,t.alpha=o,a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.toTopShow=function(t,e,i,o,n,s,a){void 0===i&&(i=t.y),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),t.y+=t.height,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:i,alpha:o},ease:n,wait:s,duration:e,call:a})},t.prototype.toTopShowPhy=function(t,e,i,o,n,s,a,r,c){void 0===o&&(o=t.y),void 0===n&&(n=t.alpha),void 0===s&&(s=egret.Ease.sineOut),void 0===a&&(a=egret.Ease.sineIn),void 0===r&&(r={duration:0}),t.y+=t.height,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({y:o-e,alpha:n},Math.floor(i/2),s).to({y:o},Math.floor(i/4),a).to({y:o-Math.floor(e/6)},Math.floor(i/8),s).to({y:o},Math.floor(i/8),a).wait(r.duration,r.passive).call(c.callback,c.thisObj,c.params)},t.prototype.toBottomHide=function(t,e,i,o,n,s,a){void 0===i&&(i=t.y),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{y:i+t.height,alpha:0},ease:n,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.y=i,t.alpha=o,a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.toRightShow=function(t,e,i,o,n,s,a){void 0===i&&(i=t.x),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),t.x-=t.width,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:i,alpha:o},ease:n,wait:s,duration:e,call:a})},t.prototype.toLeftHide=function(t,e,i,o,n,s,a){void 0===i&&(i=t.x),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{x:i-t.width,alpha:0},ease:n,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.x=i,t.alpha=o,a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.toLeftShow=function(t,e,i,o,n,s,a){void 0===i&&(i=t.x),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),t.x+=t.width,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:i,alpha:o},ease:n,wait:s,duration:e,call:a})},t.prototype.toRightHide=function(t,e,i,o,n,s,a){void 0===i&&(i=t.x),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{x:i+t.width,alpha:0},ease:n,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.x=i,t.alpha=o,a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.toBigShow=function(t,e,i,o,n,s,a){void 0===i&&(i=t.scaleX),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),t.scaleX=t.scaleY=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:i,scaleY:i,alpha:o},ease:n,wait:s,duration:e,call:a})},t.prototype.toSmallHide=function(t,e,i,o,n,s,a){void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),void 0!=i&&(t.scaleX=t.scaleY=i),this.tween(t,void 0,{props:{scaleX:0,scaleY:0,alpha:0},ease:n,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=i,t.alpha=o,a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.toSmallShow=function(t,e,i,o,n,s,a,r){void 0===n&&(n=t.alpha),void 0===a&&(a={duration:0}),void 0!=o&&(t.scaleX=t.scaleY=o),t.scaleX=t.scaleY*=e,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:o,scaleY:o,alpha:n},ease:s,wait:a,duration:i,call:r})},t.prototype.toBigHide=function(t,e,i,o,n,s,a,r){void 0===n&&(n=t.alpha),void 0===a&&(a={duration:0}),void 0!=o&&(t.scaleX=t.scaleY=o),this.tween(t,void 0,{props:{scaleX:t.scaleX*e,scaleY:t.scaleX*e,alpha:0},ease:s,wait:a,duration:i,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=o,t.alpha=n,r&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toWidthAddShow=function(t,e,i,o,n,s,a){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),t.width=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{width:i,alpha:o},ease:n,wait:s,duration:e,call:a})},t.prototype.toWidthCutHide=function(t,e,i,o,n,s,a){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{width:0,alpha:0},ease:n,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.width=i,t.alpha=o,a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.toHeightAddShow=function(t,e,i,o,n,s,a){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),t.height=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{height:i,alpha:o},ease:n,wait:s,duration:e,call:a})},t.prototype.toHeightCutHide=function(t,e,i,o,n,s,a){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{height:0,alpha:0},ease:n,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.height=i,t.alpha=o,a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.toWidthChange=function(t,e,i,o,n,s,a){void 0===s&&(s={duration:0}),void 0!=o&&(t.width=o),o=t.width,t.visible=!0,this.tween(t,void 0,{props:{width:o+i},ease:n,wait:s,duration:e,call:{callback:function(){t.width<=0&&(t.width=0,t.visible=!1),a&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.fadeIn=function(t,e,i,o,n,s){void 0===i&&(i=t.alpha),void 0===n&&(n={duration:0}),t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{alpha:i},ease:o,wait:n,duration:e,call:s})},t.prototype.fadeOut=function(t,e,i,o,n,s){void 0===i&&(i=t.alpha),this.tween(t,void 0,{props:{alpha:0},ease:o,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.alpha=i,s&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.loopFloat=function(t,e,i,o,n){void 0===e&&(e=-30),void 0===i&&(i=500),void 0!=o&&(t.y=o),o=t.y,this.tween(t,{loop:!0},{props:{y:o+e},duration:i},{props:{y:o},duration:i})},t.prototype.loopScale=function(t,e,i,o,n){void 0===e&&(e=1.2),void 0===i&&(i=500),void 0!=o&&(t.scaleX=o),o=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:o*e,scaleY:o*e},duration:i},{props:{scaleX:o,scaleY:o},duration:i})},t.prototype.loopAlpha=function(t,e,i,o,n){void 0===e&&(e=1.2),void 0===i&&(i=500),void 0!=o&&(t.alpha=o),o=t.alpha,this.tween(t,{loop:!0},{props:{alpha:o*e},duration:i},{props:{alpha:o},duration:i})},t.prototype.loopRotate=function(t,e,i,o,n){void 0===e&&(e=1),void 0===i&&(i=3600),void 0!=o&&(t.rotation=o),o=t.rotation,this.tween(t,{loop:!0},{props:{rotation:o+360*e},duration:i})},t.prototype.swing=function(t,e,i,o,n,s){void 0===i&&(i=1e3),void 0===s&&(s={duration:0}),void 0!=o?t.rotation=o:o=t.rotation,this.tween(t,{loop:!0},{props:{rotation:o+e},duration:i/2},{props:{rotation:o-2*e},duration:i},{props:{rotation:o},duration:i/2,wait:s})},t.prototype.tween=function(t,e){var i=this;void 0===e&&(e={});for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];this.rmTweens(t);var s=egret.Tween.get(t,e,e.pluginData,e.override);if(!o)return this.rmTweens(t),s;var a=0,r=function(){var t=o[a];t.wait?s.to(t.props,t.duration,t.ease).wait(t.wait.duration,t.wait.passive).call(function(){if(t.call&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),a++,a>=o.length)return s;r();var e},i):s.to(t.props,t.duration,t.ease).call(function(){if(t.call&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),a++,a>=o.length)return s;r();var e},i)};r()},t.prototype.rmTweens=function(t){t&&egret.Tween.removeTweens(t)},t}();t.TweenMgr=e,__reflect(e.prototype,"util.TweenMgr")}(util||(util={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canshow=!1,e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),window.app=this;var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.showGame=function(){this.showGameed||(this.showGameed=!0,this.canshow=!0,this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.canshow&&this.startCreateScene())},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(ready(),this.canshow&&this.startCreateScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName},e.prototype.startCreateScene=function(){GameMgr.stage=this.stage;var t=egret.getOption("lan");t&&(GameMgr.lan=t),this.currentV||(this.currentV=new MainView,this.addChild(this.currentV))},e}(eui.UILayer);__reflect(Main.prototype,"Main");var GameMgr=function(){function t(){}return t}();GameMgr.screenType=null,GameMgr.mobileType=null,GameMgr.awardCnt=0,GameMgr.isDrag=!1,GameMgr.lan="us",GameMgr.replay=!1,GameMgr.isReset=!1,__reflect(GameMgr.prototype,"GameMgr");var GameScene=function(t){function e(){var e=t.call(this)||this;return e.isOver=!1,e.failCount=0,GameMgr.gameview=e,e.skinName="gamescene",e.init(),e}return __extends(e,t),e.prototype.init=function(){gTween.loopScale(this.download,.8,400,1),this.start(),this.showGuide(),this.snowFall()},e.prototype.resizeView=function(){this.guide_hand&&this.guide_hand.resizeView(this.width,this.height);var t=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(1==GameMgr.screenType)switch(this.ui_tishi.horizontalCenter="0",this.con_body.x=0/0,this.con_body.horizontalCenter="0",this.download_con.x=0/0,this.download_con.horizontalCenter="0",this.tishi_bg.y=-170,GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(this.ui_tishi.horizontalCenter=0/0,this.ui_tishi.x=.25*this.width,this.tishi_bg.y=-150,this.download_con.horizontalCenter=0/0,this.download_con.x=this.ui_tishi.x,this.con_body.horizontalCenter=0/0,this.con_body.x=.75*this.width,GameMgr.mobileType){case 1:break;case 2:break;case 3:}this.ui_tishi.scaleX=this.ui_tishi.scaleY=this.con_body.scaleX=this.con_body.scaleY=t},e.prototype.rotateView=function(){1==GameMgr.screenType?(this.con_body.horizontalCenter=0,this.con_body.verticalCenter=0):this.con_body.verticalCenter=-10},e.prototype.start=function(){this.tishi_face1.visible=!0,this.tishi_face2.visible=!1,this.tishi_face3.visible=!1,this.tishi_word1.visible=!0,this.tishi_word2.visible=!1,this.tishi_word3.visible=!1,this.p_face1.visible=!0,this.p_face2.visible=!1,this.p_light.visible=!1,this.blockData=gConst.blockData,this.con_face.x=538,this.con_face.y=428;for(var t=1;15>t;t++)this["graph_"+t].visible=!1;this.brick_0.visible=!0,this.con_body.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragBlock,this),this.con_body.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragBlock,this),this.download_con.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickDownload,this),this.faceShake(this.tishi_face1),this.blink()},e.prototype.clickDownload=function(){gameInstall()},e.prototype.faceShake=function(t){gTween.swing(t,10,200,0,void 0,{duration:600})},e.prototype.blink=function(){this.con_face.anchorOffsetX=this.con_face.width/2,gTween.tween(this.con_face,{loop:!0},{props:{scaleX:-1},wait:{duration:500}},{props:{scaleX:1},wait:{duration:1500}})},e.prototype.showGuide=function(){this.guide_hand=new com.GuideCom,this.guide_hand.setData(gConst.firstGuideTimer,{target_1:this.con_face,target_2:this.hand_target,moveTime:500},this,{diffY:0,diffS:0,pressT:0,liftT:0}),this.guide_hand.start()},e.prototype.dragBlock=function(t){if(t.type===egret.TouchEvent.TOUCH_BEGIN){if(this.isDrag)return;this.isDrag=!0,this.startPoint=new egret.Point(t.stageX,t.stageY),this.con_body.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.dragBlock,this)}else if(t.type===egret.TouchEvent.TOUCH_MOVE){this.endPoint=new egret.Point(t.stageX,t.stageY);var e=this.endPoint.x-this.startPoint.x,i=this.endPoint.y-this.startPoint.y;if(Math.abs(e-i)<=gConst.dragDist)return;var o=Math.abs(e)>Math.abs(i)?e>0?1:3:i>0?2:0;this.doMove(o),this.con_body.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.dragBlock,this),this.isDrag=!1}},e.prototype.doMove=function(t){if(!this.isOver){var e;if(this.blockData[t]){gSoundMgr.playEff("sm_huadong"),this.guide_hand&&this.guide_hand.stop(),e=this.blockData[t],this.blockData=e;var i=gConst.blockInterval*(e.idxs?e.idxs.length:1);this.brickBreak(e.brick,i),this.showBlock(e.idxs),this.moveFace(e.face,i),this.checkRight(e.right,i)}}},e.prototype.checkRight=function(t,e){var i=this;if(void 0!=t)if(gTween.toBottomShow(this.ui_tishi,400,void 0,1,egret.Ease.backOut),gSoundMgr.playEff("sm_tanchu"),t){this.tishi_face1.visible=!1,this.tishi_face2.visible=!1,this.tishi_face3.visible=!0,this.tishi_word1.visible=!1,this.tishi_word2.visible=!1,this.tishi_word3.visible=!0,this.p_face2.visible=!0,this.p_face1.visible=!1;for(var o=function(t){egret.setTimeout(function(){var e=new eui.Image;e.source="p_light"+t+"_png",i.mc_light_con.addChild(e)},n,50*t)},n=this,s=1;13>s;s++)o(s);egret.setTimeout(function(){i.mc_light_con.visible=!1,i.p_light.visible=!0,gTween.loopAlpha(i.p_light,.7,300)},this,600),this.showCaiDai(),this.faceShake(this.tishi_face3),gSoundMgr.playEff("sm_success")}else{if(this.tishi_face1.visible=!1,this.tishi_face2.visible=!0,this.tishi_face3.visible=!1,this.tishi_word1.visible=!1,this.tishi_word2.visible=!0,this.tishi_word3.visible=!1,this.faceShake(this.tishi_face2),this.failCount++,this.failCount>=2)return;var a=4;this.circleMask=new egret.Shape,this.circleMask.graphics.clear(),this.circleMask.graphics.beginFill(16777215),this.circleMask.graphics.drawCircle(GameMgr.gameview.width/2,GameMgr.gameview.height/2,this.width/2),this.circleMask.graphics.endFill(),GameMgr.gameview.addChild(this.circleMask),this.circleMask.x=GameMgr.gameview.width/2,this.circleMask.y=GameMgr.gameview.height/2,GameMgr.gameview.mask=this.circleMask,GameMgr.gameview.mask.anchorOffsetX=GameMgr.gameview.width/2,GameMgr.gameview.mask.anchorOffsetY=GameMgr.gameview.height/2,this.circleMask.scaleX=this.circleMask.scaleY=a,egret.setTimeout(function(){gTween.toScale(i.circleMask,0,300,1,egret.Ease.sineOut,void 0,{callback:function(){i.start(),gTween.toScale(i.circleMask,a,300,0,void 0,void 0,{callback:function(){GameMgr.gameview.mask=null,i.circleMask.graphics.clear(),i.circleMask.visible=!1,i.circleMask=gComMgr.rmObj(i.circleMask)}})}})},this,e+1e3)}},e.prototype.showCaiDai=function(){for(var t=1;3>=t;t++){var e=new com.ParticleCom;e.setData(this,"caidai"+t),e.start(),e.updateEmitterX(this.width/2)}},e.prototype.brickBreak=function(t,e){var i=this;void 0!=t&&void 0!=e&&egret.setTimeout(function(){gSoundMgr.playEff("sm_break");var e=i["brick_"+t];e&&(i.brick_0.visible=!1);var o=i["mc_brick_"+t];if(void 0!=o){o.visible=!0,o.setData([new data.McData("1",19,"brick_break_{1}_png")]),o.once(egret.Event.COMPLETE,function(){o.visible=!1},i),o.gotoAndPlay("1",1);var n=new util.ShakeTool;n.shakeObj(i,300,15,30,30)}},this,e)},e.prototype.showBlock=function(t){var e=this;if(!this.isOver)for(var i=function(i){egret.setTimeout(function(){e["graph_"+t[i]].visible=!0},o,i*gConst.blockInterval)},o=this,n=0;n<t.length;n++)i(n)},e.prototype.moveFace=function(t,e){gTween.toMove(this.con_face,t.x,t.y,{x:e},void 0,void 0,{x:egret.Ease.sineOut})},e.prototype.snowFall=function(){var t=new com.ParticleCom;t.setData(this,"xuehua"),t.start()},e}(eui.Component);__reflect(GameScene.prototype,"GameScene");var MainView=function(t){function e(){var e=t.call(this)||this;return GameMgr.gameview=new GameScene,e.addChild(GameMgr.gameview),e.resizeView(null),GameMgr.stage.addEventListener(egret.Event.RESIZE,e.resizeView,e),e.addEventListener(egret.Event.ENTER_FRAME,e.update,e),e}return __extends(e,t),e.prototype.update=function(t){this.curw!=window.innerWidth&&this.resizeView(null)},e.prototype.resizeView=function(t){void 0===t&&(t=null);var e,i=null===GameMgr.screenType;GameMgr.stage.stageWidth<GameMgr.stage.stageHeight?(0===GameMgr.screenType&&(i=!0),GameMgr.screenType=1,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH,e=GameMgr.stage.stageWidth/GameMgr.stage.stageHeight):(1===GameMgr.screenType&&(i=!0),GameMgr.screenType=0,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_HEIGHT,e=GameMgr.stage.stageHeight/GameMgr.stage.stageWidth),GameMgr.mobileType=.51>e?1:.65>e?2:3,this.curw=window.innerWidth;var o,n;window.innerWidth>window.innerHeight?(n=750,o=750/window.innerHeight*window.innerWidth,GameMgr.stage.orientation=egret.OrientationMode.LANDSCAPE):(o=750,n=750/window.innerWidth*window.innerHeight,GameMgr.stage.orientation=egret.OrientationMode.PORTRAIT),GameMgr.gameview&&(GameMgr.gameview.width=Math.ceil(o),GameMgr.gameview.height=Math.ceil(n),GameMgr.gameview.resizeView()),GameMgr.scale=1,i&&this.rotateView()},e.prototype.rotateView=function(){GameMgr.gameview&&GameMgr.gameview.rotateView()},e}(eui.Component);__reflect(MainView.prototype,"MainView");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,o){function n(t){e.call(o,t)}function s(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),i.call(o))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.END,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.update=function(){this.gameEnd(),this.start()},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(this.con_body.scaleX=this.con_body.scaleY=1,1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:this.con_body.scaleX=this.con_body.scaleY=.8}else switch(this.mobileType){case 1:break;case 2:break;case 3:this.con_body.scaleX=this.con_body.scaleY=.8}},e.prototype.rotateView=function(){1==this.screenType?this.con_body.horizontalCenter=0:(this.con_body.horizontalCenter=0/0,this.con_body.x=.5*this.width/this.con_body.scaleX/2)},e.prototype.start=function(){gTween.loopFloat(this.body,-20,1e3,0)},e}(t.UiFile);t.UiEndView=e,__reflect(e.prototype,"ui.UiEndView")}(ui||(ui={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function o(o){e.call(i,o,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?o(n):RES.getResAsync(t,o,this)}else RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isGuide=!1,e.skinName=gConst.skin.GUIDE,e.init(),e}return __extends(e,t),e.prototype.init=function(){this.touchEnabled=this.touchChildren=!1},e.prototype.setData=function(t,e,i,o){void 0===o&&(o={}),this.delayTimer=t,this.target_1=e.target_1,this.target_2=e.target_2,this.moveTime=e.moveTime,this.isReturn=e.isReturn,this.parentObj=i,this.diffX=void 0!=o.diffX?o.diffX:0,this.diffY=void 0!=o.diffY?o.diffY:20,this.diffS=void 0!=o.diffS?o.diffS:.9,this.pressT=void 0!=o.pressT?o.pressT:300,this.liftT=void 0!=o.liftT?o.liftT:800,this.waitT=void 0!=o.waitT?o.waitT:500,this.direction=void 0!=o.direction?o.direction:gConst.direction.CENTER_CENTER,this.offX=void 0!=o.offX?o.offX:0,this.offY=void 0!=o.offY?o.offY:0,this.offR=void 0!=o.offR?o.offR:0,this.isBack=void 0!=o.isBack?o.isBack:!1
},e.prototype.updateData=function(t){void 0!=t.delayTimer&&(this.delayTimer=t.delayTimer),void 0!=t.targetArg.target_1&&(this.target_1=t.targetArg.target_1),void 0!=t.targetArg.target_2&&(this.target_2=t.targetArg.target_2),void 0!=t.targetArg.moveTime&&(this.moveTime=t.targetArg.moveTime),void 0!=t.targetArg.isReturn&&(this.isReturn=t.targetArg.isReturn),void 0!=t.parentObj&&(this.parentObj=t.parentObj),void 0!=t.prop&&(void 0!=t.prop.diffX&&(this.diffX=t.prop.diffX),void 0!=t.prop.diffY&&(this.diffY=t.prop.diffY),void 0!=t.prop.diffS&&(this.diffS=t.prop.diffS),void 0!=t.prop.pressT&&(this.pressT=t.prop.pressT),void 0!=t.prop.liftT&&(this.liftT=t.prop.liftT),void 0!=t.prop.waitT&&(this.waitT=t.prop.waitT),void 0!=t.prop.direction&&(this.direction=t.prop.direction),void 0!=t.prop.offX&&(this.offX=t.prop.offX),void 0!=t.prop.offY&&(this.offY=t.prop.offY),void 0!=t.prop.offR&&(this.offR=t.prop.offR),void 0!=t.prop.isBack&&(this.isBack=t.prop.isBack))},e.prototype.start=function(){egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,this.delayTimer)},e.prototype.stop=function(){var t=this;egret.clearTimeout(this.guideDelay),this.isGuide&&this&&this.parent&&(this.isGuide=!1,gTween.tween(this.hand,void 0,{props:{alpha:0},duration:200,call:{callback:function(){gTween.rmTweens(t.hand),gComMgr.rmObj(t),t.hand.alpha=1,t.dispatchEventWith(gConst.eventType.GUIDE_STOP)},thisObj:this}}))},e.prototype.reset=function(){this.once(gConst.eventType.GUIDE_STOP,this.start,this),this.stop()},e.prototype.showGuide=function(){this.hand.alpha=1,this.parentObj.addChild(this),this.updateGuideLoc()},e.prototype.updateGuideLoc=function(t){if(void 0===t&&(t=this.target_1),this&&this.parent){var e=t.x-t.anchorOffsetX*t.scaleX,i=t.y-t.anchorOffsetY*t.scaleX,o=t.width*t.scaleX,n=t.height*t.scaleX;switch(this.direction){case gConst.direction.LEFT_TOP:this.rotation=135;break;case gConst.direction.CENTER_TOP:e+=o/2,this.rotation=180;break;case gConst.direction.RIGHT_TOP:e+=o,this.rotation=-135;break;case gConst.direction.RIGHT_CENTER:e+=o,i+=n/2,this.rotation=-90;break;case gConst.direction.RIGHT_BOTTOM:e+=o,i+=n,this.rotation=-45;break;case gConst.direction.CENTER_BOTTOM:e+=o/2,i+=n,this.rotation=0;break;case gConst.direction.LEFT_BOTTOM:i+=n,this.rotation=45;break;case gConst.direction.LEFT_CENTER:i+=n/2,this.rotation=90;break;default:e+=o/2,i+=n/2,this.rotation=0}e+=this.offX*t.scaleX,i+=this.offY*t.scaleX,this.rotation+=this.offR;var s=t.parent.localToGlobal(e,i),a=this.globalToLocal(s.x,s.y,s);this.initHandX=this.hand.x=a.x,this.initHandY=this.hand.y=a.y}},e.prototype.playGuide=function(){var t=this;if(this.showGuide(),this.isGuide=!0,gTween.rmTweens(this.hand),this.hand.alpha=0,this.hand.scaleX=this.hand.scaleY=1,this.target_2){var e=this.initHandX,i=this.initHandY;this.updateGuideLoc(this.target_2);var o=this.initHandX,n=this.initHandY;this.hand.x=e+this.diffX,this.hand.y=i+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var s;s=this.isReturn?{x:e+this.diffX,y:i+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:e,y:i,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:e+t.diffX,y:i+t.diffY},t.liftT).to({x:o+t.diffX,y:n+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:o,y:n},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:o+t.diffX,y:n+t.diffY},t.liftT).wait(t.waitT).to(s,t.moveTime)},this)}else this.isBack?(this.hand.x=this.initHandX,this.hand.y=this.initHandY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){egret.Tween.get(t.hand,{loop:!0}).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE])},this)):(this.hand.x=this.initHandX+this.diffX,this.hand.y=this.initHandY+this.diffY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT)},this))},e.prototype.resizeView=function(t,e){this.isGuide&&(this.stop(),this.showGuide(),egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,100))},e}(eui.Component);t.GuideCom=e,__reflect(e.prototype,"com.GuideCom")}(com||(com={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.className=gConst.className.EMPTY,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFile);t.UiFileEmpty=e,__reflect(e.prototype,"ui.UiFileEmpty")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.FIRST,e}return __extends(e,t),e.prototype.init=function(t,e,i){void 0===i&&(i=!1),void 0!=t&&(this.logoDir=t),void 0!=e&&(this.btnDir=e),this.yoyoBtn(i)},e.prototype.load=function(){this.initItem(this.logo),this.initItem(this.btn_dl),this.logoLoc=new data.FirstData,this.btnLoc=new data.FirstData,this.updateLogoLoc(),this.updateBtnLoc()},e.prototype.update=function(){},e.prototype.addEvent=function(){this.btn_dl.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.removeEvent=function(){this.btn_dl.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.resizeView=function(){if(this.con_logo.scaleX=this.con_logo.scaleY=this.con_btn.scaleX=this.con_btn.scaleY=gConst.mobileByScale[this.screenType][this.mobileType],1==this.screenType)switch(void 0!=this.logoLoc.verRatio&&this.__updateLogoVerRatio(),this.con_logo.x=this.logoLoc.vertical.x,this.con_logo.y=this.logoLoc.vertical.y,void 0!=this.btnLoc.verRatio&&this.__updateBtnVerRatio(),this.con_btn.x=this.btnLoc.vertical.x,this.con_btn.y=this.btnLoc.vertical.y,this.mobileType){case 1:break;case 2:break;case 3:}else switch(void 0!=this.logoLoc.horRatio&&this.__updateLogoHorRatio(),this.con_logo.x=this.logoLoc.horizontal.x,this.con_logo.y=this.logoLoc.horizontal.y,void 0!=this.btnLoc.horRatio&&this.__updateBtnHorRatio(),this.con_btn.x=this.btnLoc.horizontal.x,this.con_btn.y=this.btnLoc.horizontal.y,this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e.prototype.__updateLogoHorRatio=function(){var t=this,e=function(){t.logoLoc.horizontal.x=Math.floor(t.width*t.logoLoc.horRatio/100/2)},i=function(){t.logoLoc.horizontal.x=t.width/2},o=function(){t.logoLoc.horizontal.x=Math.floor(t.width*(100-t.logoLoc.horRatio)/100+t.width*t.logoLoc.horRatio/100/2)},n=function(){t.logoLoc.horizontal.y=t.logoLoc.topSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX},s=function(){t.btnDir.horDir==t.logoDir.horDir?t.logoLoc.horizontal.y=t.height-(t.logoLoc.bottomSpace+t.con_btn.height*t.con_btn.scaleX+t.logoLoc.horSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX):t.logoLoc.horizontal.y=t.height-(t.logoLoc.bottomSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:e(),n();break;case gConst.direction.LEFT_BOTTOM:e(),s();break;case gConst.direction.CENTER_TOP:i(),n();break;case gConst.direction.CENTER_BOTTOM:i(),s();break;case gConst.direction.RIGHT_TOP:o(),n();break;case gConst.direction.RIGHT_BOTTOM:o(),s()}},e.prototype.__updateLogoHor=function(){var t=this,e=function(){t.logoLoc.horizontal.x=t.logoLoc.leftSpace+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)},i=function(){t.logoLoc.horizontal.x=t.width/2},o=function(){t.logoLoc.horizontal.x=t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)+t.logoLoc.leftSpace)},n=function(){t.logoLoc.horizontal.y=t.logoLoc.topSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX},s=function(){t.btnDir.horDir==t.logoDir.horDir?t.logoLoc.horizontal.y=t.height-(t.logoLoc.bottomSpace+t.con_btn.height*t.con_btn.scaleX+t.logoLoc.horSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX):t.logoLoc.horizontal.y=t.height-(t.logoLoc.bottomSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:e(),n();break;case gConst.direction.LEFT_BOTTOM:e(),s();break;case gConst.direction.CENTER_TOP:i(),n();break;case gConst.direction.CENTER_BOTTOM:i(),s();break;case gConst.direction.RIGHT_TOP:o(),n();break;case gConst.direction.RIGHT_BOTTOM:o(),s()}},e.prototype._updateLogoHor=function(){void 0!=this.logoLoc.verRatio?this.__updateLogoHorRatio():this.__updateLogoHor()},e.prototype.__updateLogoVerRatio=function(){var t=this,e=function(){t.logoLoc.vertical.x=t.logoLoc.leftSpace+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)},i=function(){t.logoLoc.vertical.x=t.width/2},o=function(){var e=Math.floor(t.height*t.logoLoc.verRatio/100/2);t.btnDir.verDir==t.logoDir.verDir?t.logoLoc.vertical.y=e-(t.logoLoc.verSpace/2+t.con_logo.anchorOffsetY*t.con_logo.scaleX):t.logoLoc.vertical.y=e},n=function(){var e=Math.floor(t.height*(100-t.logoLoc.verRatio)/100+t.height*t.logoLoc.verRatio/100/2);t.btnDir.verDir==t.logoDir.verDir?t.logoLoc.vertical.y=e-(t.logoLoc.verSpace/2+t.con_logo.anchorOffsetY*t.con_logo.scaleX):t.logoLoc.vertical.y=e};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:e(),o();break;case gConst.direction.LEFT_BOTTOM:e(),n();break;case gConst.direction.CENTER_TOP:i(),o();break;case gConst.direction.CENTER_BOTTOM:i(),n()}},e.prototype.__updateLogoVer=function(){var t=this,e=function(){t.logoLoc.vertical.x=t.logoLoc.leftSpace+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)},i=function(){t.logoLoc.vertical.x=t.width/2},o=function(){t.logoLoc.vertical.y=t.logoLoc.topSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX},n=function(){t.btnDir.verDir==t.logoDir.verDir?t.logoLoc.vertical.y=t.height-(t.logoLoc.bottomSpace+t.con_btn.height*t.con_btn.scaleX+t.logoLoc.verSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX):t.logoLoc.vertical.y=t.height-(t.logoLoc.bottomSpace+t.con_logo.anchorOffsetY*t.con_logo.scaleX)};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:e(),o();break;case gConst.direction.LEFT_BOTTOM:e(),n();break;case gConst.direction.CENTER_TOP:i(),o();break;case gConst.direction.CENTER_BOTTOM:i(),n()}},e.prototype._updateLogoVer=function(){void 0!=this.logoLoc.verRatio?this.__updateLogoVerRatio():this.__updateLogoVer()},e.prototype.updateLogoLoc=function(t){if(this.logoLoc||(this.logoLoc=new data.FirstData),t)void 0!=t.horizontal.x&&(this.logoLoc.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(this.logoLoc.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(this.logoLoc.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(this.logoLoc.vertical.y=t.vertical.y);else{if(!this.logoDir)return;this._updateLogoHor(),this._updateLogoVer()}},e.prototype.__updateBtnHorRatio=function(){var t=this,e=function(){t.btnLoc.horizontal.x=Math.floor(t.width*t.btnLoc.horRatio/100/2)},i=function(){t.btnLoc.horizontal.x=t.width/2},o=function(){t.btnLoc.horizontal.x=Math.floor(t.width*(100-t.btnLoc.horRatio)/100+t.width*t.btnLoc.horRatio/100/2)},n=function(){t.logoDir.horDir==t.btnDir.horDir?t.btnLoc.horizontal.y=t.logoLoc.topSpace+t.con_logo.height*t.con_logo.scaleX+t.btnLoc.horSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX:t.btnLoc.horizontal.y=t.btnLoc.topSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX},s=function(){t.btnLoc.horizontal.y=t.height-(t.btnLoc.bottomSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:e(),n();break;case gConst.direction.LEFT_BOTTOM:e(),s();break;case gConst.direction.CENTER_TOP:i(),n();break;case gConst.direction.CENTER_BOTTOM:i(),s();break;case gConst.direction.RIGHT_TOP:o(),n();break;case gConst.direction.RIGHT_BOTTOM:o(),s()}},e.prototype.__updateBtnHor=function(){var t=this,e=function(){t.btnLoc.horizontal.x=t.btnLoc.leftSpace+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)},i=function(){t.btnLoc.horizontal.x=t.width/2},o=function(){t.btnLoc.horizontal.x=t.width-(Math.max(t.con_btn.anchorOffsetX*t.con_btn.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)+t.btnLoc.leftSpace)},n=function(){t.logoDir.horDir==t.btnDir.horDir?t.btnLoc.horizontal.y=t.logoLoc.topSpace+t.con_logo.height*t.con_logo.scaleX+t.btnLoc.horSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX:t.btnLoc.horizontal.y=t.btnLoc.topSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX},s=function(){t.btnLoc.horizontal.y=t.height-(t.btnLoc.bottomSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:e(),n();break;case gConst.direction.LEFT_BOTTOM:e(),s();break;case gConst.direction.CENTER_TOP:i(),n();break;case gConst.direction.CENTER_BOTTOM:i(),s();break;case gConst.direction.RIGHT_TOP:o(),n();break;case gConst.direction.RIGHT_BOTTOM:o(),s()}},e.prototype._updateBtnHor=function(){void 0!=this.btnLoc.verRatio?this.__updateBtnHorRatio():this.__updateBtnHor()},e.prototype.__updateBtnVerRatio=function(){var t=this,e=function(){t.btnLoc.vertical.x=t.btnLoc.leftSpace+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)},i=function(){t.btnLoc.vertical.x=t.width/2},o=function(){var e=Math.floor(t.height*t.btnLoc.verRatio/100/2);t.logoDir.verDir==t.btnDir.verDir?t.btnLoc.vertical.y=e+(t.btnLoc.verSpace/2+t.con_btn.anchorOffsetY*t.con_btn.scaleX):t.btnLoc.vertical.y=e},n=function(){var e=Math.floor(t.height*(100-t.btnLoc.verRatio)/100+t.height*t.btnLoc.verRatio/100/2);t.logoDir.verDir==t.btnDir.verDir?t.btnLoc.vertical.y=e+(t.btnLoc.verSpace/2+t.con_btn.anchorOffsetY*t.con_btn.scaleX):t.btnLoc.vertical.y=e};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:e(),o();break;case gConst.direction.LEFT_BOTTOM:e(),n();break;case gConst.direction.CENTER_TOP:i(),o();break;case gConst.direction.CENTER_BOTTOM:i(),n()}},e.prototype.__updateBtnVer=function(){var t=this,e=function(){t.btnLoc.vertical.x=t.btnLoc.leftSpace+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX,t.con_btn.anchorOffsetX*t.con_btn.scaleX)},i=function(){t.btnLoc.vertical.x=t.width/2},o=function(){t.logoDir.verDir==t.btnDir.verDir?t.btnLoc.vertical.y=t.logoLoc.topSpace+t.con_logo.height*t.con_logo.scaleX+t.btnLoc.verSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX:t.btnLoc.vertical.y=t.btnLoc.topSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX},n=function(){t.btnLoc.vertical.y=t.height-(t.btnLoc.bottomSpace+t.con_btn.anchorOffsetY*t.con_btn.scaleX)};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:e(),o();break;case gConst.direction.LEFT_BOTTOM:e(),n();break;case gConst.direction.CENTER_TOP:i(),o();break;case gConst.direction.CENTER_BOTTOM:i(),n()}},e.prototype._updateBtnVer=function(){void 0!=this.btnLoc.verRatio?this.__updateBtnVerRatio():this.__updateBtnVer()},e.prototype.updateBtnLoc=function(t){if(this.btnLoc||(this.btnLoc=new data.FirstData),t)void 0!=t.horizontal.x&&(this.btnLoc.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(this.btnLoc.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(this.btnLoc.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(this.btnLoc.vertical.y=t.vertical.y);else{if(!this.btnDir)return;this._updateBtnHor(),this._updateBtnVer()}},e.prototype.initItem=function(t){var e=RES.getRes(t.source);e&&(t.width=t.parent.width=e.textureWidth,t.height=t.parent.height=e.textureHeight);var i=t.width/2,o=t.height/2;t.anchorOffsetX=t.parent.anchorOffsetX=i,t.anchorOffsetY=t.parent.anchorOffsetY=o,t.x=i,t.y=o},e.prototype.yoyoBtn=function(t){void 0===t&&(t=!0),t?gTween.loopScale(this.btn_dl,1.2,500,1):this.isYoyoBtn&&(gTween.rmTweens(this.btn_dl),this.btn_dl.scaleX=this.btn_dl.scaleY=1),this.isYoyoBtn=t},e}(t.UiFile);t.UiFirstView=e,__reflect(e.prototype,"ui.UiFirstView")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.NEXT_TIPS,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.createMask()},e.prototype.update=function(){this.playMask()},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(this.lightMask&&(this.lightMask.setLightPos(this.width/2,this.height/2),this.lightMask.setMaskSize(this.width,this.height)),1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e.prototype.createMask=function(){this.lightMask=new com.LightMask,this.lightMask.setLightSize(100),this.lightMask.setLightPos(this.width/2,this.height/2),this.lightMask.setMaskSize(this.width,this.height),this.addChild(this.lightMask),this.lightMask.visible=!1,this.lightMask.cirleLight.scaleX=this.lightMask.cirleLight.scaleY=10},e.prototype.playMask=function(){var t=this;this.lightMask.visible=!0,gTween.toScale(this.lightMask.cirleLight,0,500,10,void 0,{duration:50},{callback:function(){gTween.toScale(t.lightMask.cirleLight,10,500,0,void 0,void 0,{callback:t.close,thisObj:t})},thisObj:this})},e}(t.UiFile);t.UiNextTipsView=e,__reflect(e.prototype,"ui.UiNextTipsView")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.START,e}return __extends(e,t),e.prototype.init=function(){},e.prototype.load=function(){this.con_btn_0.name="0",this.con_btn_1.name="1"},e.prototype.update=function(){this.startAim()},e.prototype.addEvent=function(){this.con_btn_0.once(egret.TouchEvent.TOUCH_TAP,this.clickBtn,this),this.con_btn_1.once(egret.TouchEvent.TOUCH_TAP,this.clickBtn,this)},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(this.guideCom&&this.guideCom.resizeView(this.width,this.height),1==this.screenType)switch(this.mobileType){case 1:this.con.scaleX=this.con.scaleY=1;break;case 2:this.con.scaleX=this.con.scaleY=1;break;case 3:this.con.scaleX=this.con.scaleY=.8}else{switch(this.mobileType){case 1:this.desc_0.scaleX=this.desc_0.scaleY=1;break;case 2:this.desc_0.scaleX=this.desc_0.scaleY=1;break;case 3:this.desc_0.scaleX=this.desc_0.scaleY=.8}this.con.scaleX=this.con.scaleY=1}},e.prototype.rotateView=function(){1==this.screenType?(this.con_btn.bottom=30,this.con.height=254,this.con_btn.width=252,this.desc_0.visible=!1,this.desc_1.visible=!0):(this.con_btn.bottom=46,this.con.height=200,this.con_btn.width=224,this.desc_0.visible=!0,this.desc_1.visible=!1)},e.prototype.showGuide=function(){this.guideCom||(this.guideCom=new com.GuideCom),this.guideCom.setData(gConst.firstGuideTimer,{target_1:this.con_btn_0,target_2:this.con_btn_1,moveTime:500},this,{waitT:0}),this.guideCom.start()},e.prototype.hideGuide=function(){this.guideCom&&this.guideCom.stop()},e.prototype.startAim=function(){gTween.toTopShow(this.con_desc,800,0,1,egret.Ease.bounceOut,void 0,{callback:this.start,thisObj:this})},e.prototype.start=function(){gTween.loopScale(this.con_btn_0,.9,1e3,1),gTween.loopScale(this.con_btn_1,.9,1e3,1),this.showGuide()},e.prototype.clickBtn=function(t){this.hideGuide();var e=t.target;e.scaleX=e.scaleY=1,gComMgr.clickAim(e,1),gTween.toBottomHide(this.con_desc,300,0,1,void 0,void 0,{callback:this.close,thisObj:this})},e}(t.UiFile);t.UiStartView=e,__reflect(e.prototype,"ui.UiStartView")}(ui||(ui={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.blendMode=egret.BlendMode.ERASE,e.cirleLight=new egret.Shape,e.cirleLight.blendMode=egret.BlendMode.ERASE,e.addChild(e.cirleLight),e}return __extends(e,t),e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.setLightSize=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t),this.cirleLight.graphics.clear(),this.cirleLight.graphics.beginFill(0),1==e?this.cirleLight.graphics.drawRect(0,0,t,i):this.cirleLight.graphics.drawCircle(0,0,t),this.cirleLight.graphics.endFill(),this.show()},e.prototype.setLightPos=function(t,e){this.cirleLight.x=t,this.cirleLight.y=e},e.prototype.setMaskSize=function(t,e,i){void 0===i&&(i=1),this.graphics.clear(),this.graphics.beginFill(0,i),this.graphics.drawRect(0,0,t,e),this.graphics.endFill()},e}(egret.Sprite);t.LightMask=e,__reflect(e.prototype,"com.LightMask")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.interval=40,e.playTime=-1,e.isplay=!1,e.isReverse=!1,e.bm=new eui.Image,e.addChild(e.bm),e.bm.pixelHitTest=!0,e}return __extends(e,t),e.prototype.setData=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.list=t,this.bm.anchorOffsetX=e,this.bm.anchorOffsetY=i},e.prototype.pixelHitTest=function(t){this.bm.pixelHitTest=t},e.prototype.gotoAndStop=function(t,e){if(void 0===e&&(e=1),this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this)),this.currentFrameName=t,this.currentData=this.getMcDataByAction(t),this.frameIndex=e,this.currentData){var i=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=i}},e.prototype.dispose=function(){this.stop(),this.parent&&this.parent.removeChild(this),this.removeChildren(),this.list=null},e.prototype.gotoAndReverse=function(t,e){if(void 0===e&&(e=-1),this.isReverse=!0,this.currentFrameName=t,this.playTime=e,this.currentData=this.getMcDataByAction(t),this.currentData){this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=-1,this.frameIndex=this.currentData.frameCnt;var i=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=i,this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.update,this))}},e.prototype.gotoAndPlay=function(t,e){if(void 0===e&&(e=-1),this.isReverse=!1,this.currentFrameName=t,this.playTime=e,this.currentData=this.getMcDataByAction(t),this.currentData){this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=1,this.frameIndex=1;var i=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=i,this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.update,this))}},e.prototype.update=function(t){egret.getTimer()>=this.nextUpdateTime&&this.updateFrame()},e.prototype.updateFrame=function(){this.nextUpdateTime=egret.getTimer()+this.interval,this.isReverse&&this.frameIndex<1&&(this.stop(),this.dispatchEventWith(egret.Event.COMPLETE));var t=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=t,this.frameIndex+=this.currentData.direct,this.frameIndex>this.currentData.frameCnt?(1==this.currentData.direct&&this.currentData.backplay?(this.frameIndex-=2,this.currentData.direct=-1):this.frameIndex=1,-1==this.playTime||(!this.currentData.backplay||this.currentData.backplay&&this.isReverse)&&(this.playTime--,0==this.playTime&&(this.stop(),this.dispatchEventWith(egret.Event.COMPLETE)))):this.frameIndex<1&&(-1==this.currentData.direct&&this.currentData.backplay&&(this.frameIndex+=2,this.currentData.direct=1),this.currentData.backplay&&!this.isReverse&&(this.playTime--,0==this.playTime&&(this.stop(),this.dispatchEventWith(egret.Event.COMPLETE))))},e.prototype.stop=function(){this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this))},e.prototype.getMcDataByAction=function(t){for(var e=0;e<this.list.length;e++)if(this.list[e].fName==t)return this.list[e];return null},e}(eui.Component);t.MovieClip=e,__reflect(e.prototype,"com.MovieClip")}(com||(com={}));var com;!function(t){var e=function(){function t(){}return t.prototype.create=function(){if(!this.system){var t=RES.getRes(this.resName+"_png"),e=RES.getRes(this.resName+"_json");this.system=new particle.GravityParticleSystem(t,e),this.system.touchEnabled=!1,this.setPos()}this.parent.addChild(this.system)},t.prototype.setData=function(t,e){this.parent=t,this.resName=e,this.create()},t.prototype.start=function(t){this.system.start()},t.prototype.stop=function(t){this.system.stop(t)},t.prototype.change=function(t){this.resName=t;var e=RES.getRes(this.resName+"_png");this.system.changeTexture(e)},t.prototype.setPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.system.x=t,this.system.y=e},t.prototype.updateEmitterX=function(t){this.system.emitterX=t},t.prototype.updateEmitterY=function(t){this.system.emitterY=t},t}();t.ParticleCom=e,__reflect(e.prototype,"com.ParticleCom")}(com||(com={}));var data;!function(t){var e=function(){function t(){this.horizontal={x:0,y:0},this.vertical={x:0,y:0},this.leftSpace=20,this.topSpace=100,this.bottomSpace=60,this.horRatio=50,this.verRatio=32,this.horSpace=20,this.verSpace=-30}return t}();t.FirstData=e,__reflect(e.prototype,"data.FirstData")}(data||(data={}));var data;!function(t){var e=function(){function t(t,e,i,o){void 0===o&&(o=!1),this.fName="1",this.direct=1,this.fName=t,this.frameCnt=e,this.frameName=i,this.backplay=o}return t}();t.McData=e,__reflect(e.prototype,"data.McData")}(data||(data={}));var gConst;!function(t){t.eventType={GUIDE_TOUCH_ONE:"guide_touch_one",GUIDE_STOP:"guide_stop",IM_COMPLETE:"in_complete",IN_LOOP_COMPLETE:"in_loop_complete",OUT_COMPLETE:"out_complete",OUT_LOOP_COMPLETE:"out_loop_complete",CHOOSE_COMPLETE:"choose_complete",CHOOSE_LOOP_COMPLETE:"choose_loop_complete",SHOW_BLACK:"show_black",HIDE_BLACK:"hide_black",UI_CLOSE:"ui_close"},t.direction={CENTER_CENTER:"center_center",LEFT_TOP:"left_top",CENTER_TOP:"center_top",RIGHT_TOP:"right_top",RIGHT_CENTER:"right_center",RIGHT_BOTTOM:"right_bottom",CENTER_BOTTOM:"center_bottom",LEFT_BOTTOM:"left_bottom",LEFT_CENTER:"left_center"},t.skin={SCENE:"game_scene",FIRST:"first_view",START:"start_view",END:"end_view",GUIDE:"guide_com",CHAT:"chat_view",NEXT_TIPS:"next_tips_view",GRID:"grid_com"},t.className={EMPTY:"UiFileEmpty",SCENE:"GameScene",FIRST:"UiFirstView",START:"UiStartView",END:"UiEndView"},t.mobileByScale=(e={},e[1]=(i={},i[1]=1,i[2]=1,i[3]=.7,i),e[0]=(o={},o[1]=.9,o[2]=.9,o[3]=.7,o),e),t.blockData=(n={},n[3]=(s={idxs:[1,2],face:{x:298,y:428},brick:0},s[2]=(a={idxs:[3],face:{x:298,y:550}},a[3]=(r={idxs:[4],face:{x:188,y:550}},r[0]=(c={idxs:[5,6,7,8],face:{x:188,y:72}},c[3]=(h={idxs:[9],face:{x:69,y:72}},h[2]={idxs:[10,11],face:{x:69,y:306},right:!0},h),c),r),a),s[3]=(l={idxs:[12],face:{x:184,y:428}},l[2]=(p={idxs:[13],face:{x:188,y:550}},p[1]={idxs:[14],face:{x:298,y:550},right:!1},p),l[0]=(d={idxs:[6,7,8],face:{x:188,y:72}},d[3]=(u={idxs:[9],face:{x:69,y:72}},u[2]={idxs:[10,11],face:{x:69,y:306},right:!1},u),d),l),s),n);var e,i,o,n,s,a,r,c,h,l,p,d,u}(gConst||(gConst={}));var gUiMgr=new util.UiMgr,gComMgr=new util.ComMgr,gSoundMgr=new util.SoundMgr,gTween=new util.TweenMgr,gMath=new util.MathMgr,gShake=new util.ShakeTool,gScreenMovies=new util.ScreenMovies,ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.CHAT,e}return __extends(e,t),e.prototype.init=function(t){this.chatType=t},e.prototype.load=function(){this.con_btn.touchChildren=!1},e.prototype.update=function(){this.start()},e.prototype.addEvent=function(){this.con_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragArticle,this)},e.prototype.removeEvent=function(){this.con_btn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragArticle,this)},e.prototype.resizeView=function(){if(this.guideCom&&this.guideCom.resizeView(this.width,this.height),1==this.screenType){switch(this.mobileType){case 1:break;case 2:break;case 3:}this.con_desc_1.width=this.width-110}else{switch(this.mobileType){case 1:break;case 2:break;case 3:}this.con_desc_0.width=this.width-110}},e.prototype.rotateView=function(){1==this.screenType?(this.con_desc_0.visible=!1,this.con_desc_1.visible=!0,this.con_black.bottom=0):(this.con_desc_0.visible=!0,this.con_desc_1.visible=!1,this.con_black.bottom=-40)},e.prototype.showGuide=function(){this.guideCom||(this.guideCom=new com.GuideCom),this.guideCom.setData(gConst.firstGuideTimer,{target_1:this.con_btn},this,{diffX:this.con_btn.x-50,diffY:this.con_btn.y-150,diffS:1,pressT:800,liftT:1e3,offX:30,offY:30,offR:-30,isBack:!0}),this.guideCom.start()},e.prototype.hideGuide=function(){this.guideCom&&this.guideCom.stop()},e.prototype.dragArticle=function(t){void 0==this.dragId&&(this.hideGuide(),this.dragId=t.touchPointID,this.dragX=t.stageX,this.dragY=t.stageY,this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this))},e.prototype.mouseMove=function(t){if(t.touchPointID==this.dragId){var e=t.stageX,i=t.stageY,o=e-this.dragX,n=i-this.dragY;this.isDraged||(this.isDraged=!0,this.isReachDrag=!0,this.endAim());var s=this.con_btn.x+o,a=this.con_btn.y+n;this.con_btn.x=s,this.con_btn.y=a,this.dragX=e,this.dragY=i}},e.prototype.mouseUp=function(t){this.dragId=null,this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this.isReachDrag?(this.con_btn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragArticle,this),gTween.fadeOut(this.con_btn,500,1,void 0,void 0,{callback:this.close,thisObj:this})):gTween.toMove(this.con_btn,0,0,{x:300})},e.prototype.startAim=function(){gTween.toTopShow(this.black,300,1),1==this.screenType?gTween.fadeIn(this.con_desc_1,500,1):gTween.fadeIn(this.con_desc_0,500,1),gTween.toMove(this.con_icon,0,0,{x:500},this.con_icon.width,this.con_icon.height),this.showGuide()},e.prototype.endAim=function(){1==this.screenType?gTween.toBottomHide(this.desc_1,500,1):gTween.toBottomHide(this.desc_0,500,1),gTween.toMove(this.bg,this.bg.width,this.bg.height,{x:500},0,0),gTween.toBottomHide(this.black,500,1)},e.prototype.start=function(){0==this.chatType?(this.con_bg.scaleX=this.con_bg.scaleY=1,this.icon_0.visible=!0,this.icon_1.visible=!1):(this.con_bg.scaleX=this.con_bg.scaleY=.9,this.icon_0.visible=!1,this.icon_1.visible=!0),this.startAim()},e}(t.UiFile);t.UiChatView=e,__reflect(e.prototype,"ui.UiChatView")}(ui||(ui={}));